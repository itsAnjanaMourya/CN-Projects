<div class="form-container container p-3 mx-auto w-50 form-box my-5 rounded-md">
    <h2 style="color: #181642" class="text-center mb-3">
        <%= title %>
    </h2>

    <form action="<%= action %>" method="post">
        <div class="input-group mb-3">
            <select required name="job_category" class="form-select">
                <% if (!job) { %>
                    <option disabled selected>Select job category</option>
                <% } else { %>
                    <option disabled>Select job category</option>
                <% } %>

                <% if (job && job.job_category === "Tech") { %>
                    <option value="Tech" selected>Tech</option>
                <% } else { %>
                    <option value="Tech">Tech</option>
                <% } %>

                <% if (job && job.job_category === "Non-Tech") { %>
                    <option value="Non-Tech" selected>Non-Tech</option>
                <% } else { %>
                    <option value="Non-Tech">Non-Tech</option>
                <% } %>
            </select>
        </div>

        <div class="input-group mb-3">
            <select required name="job_designation" class="form-select">
                <% if (!job) { %>
                    <option disabled selected>Select job designation</option>
                <% } else { %>
                    <option disabled>Select job designation</option>
                <% } %>

                <% ["HR","SDE","DevOps","MERN Developer","MEAN Developer","JAVA Developer","Front-End Developer","Back-End Developer","Full-Stack Developer"].forEach(d => { %>
                    <% if (job && job.job_designation === d) { %>
                        <option value="<%= d %>" selected><%= d %></option>
                    <% } else { %>
                        <option value="<%= d %>"><%= d %></option>
                    <% } %>
                <% }) %>
            </select>
        </div>

        <div class="mb-3">
            <label for="basic-url" class="form-label">Enter job location</label>
            <input required name="job_location" type="text" class="form-control"
                value="<%= job ? job.job_location : '' %>" />
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text">Company Name</span>
            <input required name="company_name" type="text" class="form-control"
                value="<%= job ? job.company_name : '' %>" />
        </div>

        <div class="input-group mb-3">
            <input required name="salary" type="text" class="form-control" value="<%= job ? job.salary : '' %>"
                placeholder="enter salary" />
            <span class="input-group-text">Total Positions</span>
            <input required name="number_of_openings" type="number" class="form-control"
                value="<%= job ? job.number_of_openings : '' %>" />
        </div>

        <div class="input-group mb-3">
            <select required multiple name="skills_required" class="form-select">
                <option disabled>Select skills required</option>
                <% ["React","NodeJs","Angular","MongoDB","SQL","Express","Java","SpringBoot","C++","Data Structures & Algo"].forEach(skill => { %>
                    <% if (job && job.skills_required.includes(skill)) { %>
                        <option value="<%= skill %>" selected><%= skill %></option>
                    <% } else { %>
                        <option value="<%= skill %>"><%= skill %></option>
                    <% } %>
                <% }) %>
            </select>
            <span class="input-group-text">Apply By</span>
            <input name="apply_by" type="date" class="form-control" value="<%= job ? job.apply_by : '' %>" />
        </div>

        <button class="w-100 mb-3 mt-2 btn btn-md <%= job ? 'btn-warning' : 'btn-success' %>" type="submit">
            <%= buttonText %>
        </button>
    </form>
</div>
